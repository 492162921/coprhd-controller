<div id="disasterPanel" >
  <div class="panel panel-default">
    <div class="panel-heading"><h3 class="panel-title">&{'adminDashboard.disasterRecovery'}</h3></div>
    <div class="panel-body">

 	<div class="row">
    		<div class="disasterDashboard">
      			<table class="table table-hover table-condensed" style="table-layout: fixed;border-collapse: collapse" >
					<thead>
					<tr>
						<th>&{'disasterRecovery.name'}</th>
						<th>&{'disasterRecovery.status'}</th>
						<th>&{'disasterRecovery.networkHealth'}</th>
					</tr>
					</thead>
        			<tbody>
        				#{list items:drsites, as:'site'}
        				<tr>
							<td><a href="http://${site.vip}">${site.name}</a></td>
							<td>
								#{if site.state == "ACTIVE"}
									<img class="glyphicon glyphicon-ok" src="/public/img/Ready.png"><span> &{'renderFunctions.disasterRecovery.status.primary'}</span>
								#{/if}
								#{if site.state == "ACTIVE_SWITCHING_OVER"}
									<span class="glyphicon glyphicon-refresh rotate" style="color:#FF0000"></span><span> &{'renderFunctions.disasterRecovery.status.primary.switchingover'}</span>
								#{/if}
								#{if site.state == "ACTIVE_FAILING_OVER"}
									<span class="glyphicon glyphicon-refresh rotate" style="color:#FF0000"></span><span> &{'renderFunctions.disasterRecovery.status.primary.failingover'}</span>
								#{/if}
								#{if site.state == "STANDBY_ADDING"}
									<span class="glyphicon glyphicon-refresh rotate" style="color:#0000FF"></span><span> &{'renderFunctions.disasterRecovery.status.standby.adding'}</span>
								#{/if}
								#{if site.state == "STANDBY_SYNCING"}
									<span class="glyphicon glyphicon-refresh rotate" style="color:#0000FF"></span><span> &{'renderFunctions.disasterRecovery.status.standby.syncing'}</span>
								#{/if}
								#{if site.state == "STANDBY_SYNCED"}
									<img class="glyphicon glyphicon-ok" src="/public/img/Ready.png"><span> &{'renderFunctions.disasterRecovery.status.standby.synced'}</span>
								#{/if}
								#{if site.state == "STANDBY_PAUSING"}
									<span class="glyphicon glyphicon-refresh rotate" style="color:#0000FF"></span><span> &{'renderFunctions.disasterRecovery.status.standby.pausing'}</span>
								#{/if}
								#{if site.state == "STANDBY_PAUSED"}
									<img class="glyphicon glyphicon-ok" src="/public/img/Pause.png"><span> &{'renderFunctions.disasterRecovery.status.standby.paused'}</span>
								#{/if}
								#{if site.state == "STANDBY_TESTING"}
									<span class="glyphicon glyphicon-refresh rotate" style="color:#0000FF"></span><span> &{'renderFunctions.disasterRecovery.status.standby.testing'}</span>
								#{/if}
								#{if site.state == "STANDBY_SWITCHING_OVER"}
									<span class="glyphicon glyphicon-refresh rotate" style="color:#FF0000"></span><span> &{'renderFunctions.disasterRecovery.status.standby.switchingover'}</span>
								#{/if}
								#{if site.state == "STANDBY_FAILING_OVER"}
									<span class="glyphicon glyphicon-refresh rotate" style="color:#FF0000"></span><span> &{'renderFunctions.disasterRecovery.status.standby.failingover'}</span>
								#{/if}
								#{if site.state == "STANDBY_REMOVING"}
									<span class="glyphicon glyphicon-refresh rotate" style="color:#FF0000"></span><span> &{'renderFunctions.disasterRecovery.status.standby.removing'}</span>
								#{/if}
								#{if site.state == "STANDBY_RESUMING"}
									<span class="glyphicon glyphicon-refresh rotate" style="color:#0000FF"></span><span> &{'renderFunctions.disasterRecovery.status.standby.resuming'}</span>
								#{/if}
								#{if site.state == "ACTIVE_DEGRADED"}
									<img class="glyphicon glyphicon-ok" src="/public/img/Critical.png"><span> &{'renderFunctions.disasterRecovery.status.standby.failbackDegraded'}</span>
								#{/if}
								#{if site.state == "STANDBY_ERROR"}
									<img class="glyphicon glyphicon-ok" src="/public/img/Critical.png"><span> &{'renderFunctions.disasterRecovery.status.standby.error'}</span>
								#{/if}
							</td>
							<td>
								#{if site.networkHealth == "Good"}
								<img class="glyphicon glyphicon-ok" src="/public/img/Ready.png">
								#{/if}
								#{if site.networkHealth == "Slow"}
								<img class="glyphicon glyphicon-ok" src="/public/img/Warning.png">
								#{/if}
								#{if site.networkHealth == "Broken"}
								<img class="glyphicon glyphicon-ok" src="/public/img/Critical.png">
								#{/if}
							</td>
						</tr>
						#{/list}
        			</tbody>
      			</table>
    		</div>
	</div>
  </div>
  #{if disasterRecoveryLastUpdated}   
      <div class="panel-footer">
        <small>&{'adminDashboard.lastUpdated'} <span data-format-relative-time="${disasterRecoveryLastUpdated.getTime()}"></span></small>
      </div>
    #{/if}
  </div>
</div>

<style type="text/css">
.table td {
  max-width: 100px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.table td:hover {
  position:absolute;
  max-width: none;
  background:#fff;
  z-index:100;
  overflow: visible;
}
</style>
