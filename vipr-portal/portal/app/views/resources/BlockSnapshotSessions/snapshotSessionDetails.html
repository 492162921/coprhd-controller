#{extends 'main.html' /}
#{set navSelected: ['nav.storage', 'nav.block.snapshots'] /}

#{breadcrumb.container}
  #{breadcrumb.item @snapshotSessions()}&{'resources.snapshots'}#{/breadcrumb.item}
  #{breadcrumb.item active:true}${blockSnapshotSession?.blockSnapshotSession?.name}#{/breadcrumb.item}
#{/breadcrumb.container}

<div class="clear"></div>

<div id="snapshotSessionDetails" class="container" style="margin-bottom: 2em;">
#{alerts/}

#{if blockSnapshotSession}

#{Resources.header resource:blockSnapshotSession.blockSnapshotSession, typeKey: 'affectedResources.blockSnapshotSession'/}
#{Resources.actions hide:blockSnapshotSession?.blockSnapshotSession?.inactive }
    <a href="@{deleteSnapshotSession(blockSnapshotSession.blockSnapshotSession.id)}"
      onclick="return confirm('&{'resources.snapshot.deleteConfirm'}');"
    >&{'resources.snapshot.deleteLink'}</a><br/>
 #{/Resources.actions}
  <dl class="dl-horizontal pull-left">

      <dt>&{'affectedResources.blockSnapshotSession.wwn'}:</dt>
      <dd>#{spaceForNull blockSnapshotSession?.blockSnapshotSession.wwn/}</dd>
      
      <dt>&{'affectedResources.blockSnapshotSession.volume'}:</dt>
      <dd><img src="/public/img/assets/Volume.png" style="width: 32px;"/><a href="@{resources.BlockVolumes.volume(blockSnapshotSession.volume.id)}">#{spaceForNull blockSnapshotSession.volume?.name/}</a></dd>
      
      <dt>&{'affectedResources.blockSnapshotSession.varray'}:</dt>
      <dd><img src="/public/img/serviceCatalog/Virtual_Array.png" style="width: 32px;"/>#{spaceForNull blockSnapshotSession.neighborhood?.name/}</dd>
    
    #{Resources.commonAttributes resource:blockSnapshotSession.blockSnapshotSession /}
  </dl>

  <div class="clearfix"></div>

  #{Resources.tasks resourceId:blockSnapshotSession.blockSnapshotSession.id /}
#{/if}
#{else}
<span class="errorMessage">&{'resources.snapshot.notFound'}</span>
#{/else}

</div>

