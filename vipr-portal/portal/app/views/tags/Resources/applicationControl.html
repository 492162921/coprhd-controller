%{
  projects = _caller.projects
  applications = _caller.applications
  tenants = _caller.tenants
  currentTenantId = _caller.currentTenantId
  filterOptions = _caller.filterOptions
  filteredValue=_filteredValue
}%

#{if tenants?.size() > 1}
  #{tenantSelector}  
    #{ifnot projects}
     	#{ifnot applications}
      	<span class="text-warning">&{'resources.noprojects'}</span>
     	#{/ifnot}
    #{/ifnot}
    #{else}
    		#{Form.selectFilter filters:filterOptions/}
    		#{Form.selectProject projects:projects/}
      		#{Form.selectApplication applications:applications/}
  
    #{/else}
  #{/tenantSelector}
#{/if}
#{else}
  #{ifnot projects}
    <div class="alert alert-warning">&{'resources.noprojects'}</div> 
    
  #{/ifnot}
  #{elseif projects}
    <div class="well well-sm form-inline">
    		#{Form.selectFilter filters:filterOptions/}
    		#{Form.selectProject projects:projects/}
      		#{Form.selectApplication applications:applications/}
    </div>
  #{/elseif}
#{/else}
<script>

function loadOptions() {
	var filteredValue = $('#filter option:selected').val();
	if(filteredValue=="Application") {
		var projectId = null;
		$('.application-select *').attr("style", "");
		$('.application-select select').attr("style", "display:none");
		$('.project-select').attr("disabled","disabled");
		$('.project-select *').attr("style", "display:none");
	}else if(filteredValue=="Project") {
		var applicationId = null;
		$('.project-select *').attr("style", "");
		$('.project-select select').attr("style", "display:none");
		$('.application-select *').attr("style", "display:none");
		$('.application-select').attr("disabled","disabled");
	}
}
$(document).ready(function() {
	$('.application-select *').attr("style", "display:none");
	$('#filter').on('change',loadOptions);
});
</script>

