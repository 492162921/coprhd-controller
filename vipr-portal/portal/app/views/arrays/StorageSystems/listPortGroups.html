#{extends 'main.html'/}

#{set navSelected: ['nav.assets', 'nav.storageArrays']/}
#{set 'title'}&{'StorageSystems.portGroup.title'}#{/set}

#{breadcrumb.container}
  #{breadcrumb.item @arrays.StorageSystems.list()}&{'StorageSystems.list.title'}#{/breadcrumb.item}
  #{breadcrumb.item @arrays.StorageSystems.edit(storageSystemId)}${storageSystemName}#{/breadcrumb.item}
   #{breadcrumb.item @arrays.StorageSystems.ports(storageSystemId)}&{'StorageSystems.listPorts.title'}#{/breadcrumb.item}
#{/breadcrumb.container}

#{DataTable.header titleKey:'StorageSystems.portGroup.title'/}
#{DataTable.table id:'protGroups', 
                  dataTable:dataTable,
                  source:@portGroupsJson(),
                  selectable:true}
  #{DataTable.buttonBar}
    #{Form.button name:'button.add', class:'success', icon:'plus', submit:'addForm'/}
    #{Form.button name:'button.delete', class:'danger', icon:'trash', submit:'removeForm', data:['enabled':'selected']/}

  #{/DataTable.buttonBar}
#{/DataTable.table}

#{DataTable.formAction @addPortGroup(), id:'addForm', table:'protGroups', fields:formFields/}
#{DataTable.formAction @deletePortGroup(), id:'removeForm', table:'protGroups', fields:formFields/}

<script type="text/javascript">
function renderLink(o, val) {
	
	var data = o.aData;
    var url = #{jsAction @editPortGroup(':id')/};
    var href = url(data);
	
    return "<a href='"+href+"'>" + val + "</a>";
}
</script>