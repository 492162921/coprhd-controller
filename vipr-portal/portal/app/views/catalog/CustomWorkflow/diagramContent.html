#{assets.css "stylesheets/diagram-js.css"/}
#{assets.css "stylesheets/bpmn-embedded.css"/}
#{assets.css "stylesheets/app.css"/}
#{assets.css "stylesheets/bpmn.css"/}

  <div class="content" id="js-drop-zone">

    <div class="message intro"><BR><BR><BR>
      <div>
        <input type="hidden" id="diagramXML" value="${diagramXML}"/>
        <a id="js-open-vipr-diagram" href></a> 
      </div>
	  
    </div>

    <div class="message error">
      <div class="note">
        <p>Ooops, we could not display the BPMN 2.0 diagram.</p>

        <div class="details">
          <span>cause of the problem</span>
          <pre></pre>
        </div>
      </div>
    </div>

    <div class="canvas" id="js-canvas"></div>
    <div id="js-properties-panel" ></div>
  </div>
   <ul class="buttons">
    <li>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </li>
     <li>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </li> 
   
      <li>
     <button  class="btn btn-default btn-large" id="edit"> <span class="glyphicon glyphicon-edit " ></span> ${messages.get('button.edit')}</button>
    </li>
    <li id="w-save">
      <button  class="btn btn-primary btn-large" id="save"> <span class="glyphicon glyphicon-ok-sign " ></span> ${messages.get('button.save')}</button>
    
    </li>
     <li>
     <button class="btn btn-default btn-large" name="cancel" onclick="cancel()"> <span class="glyphicon glyphicon-trash "></span> ${messages.get('button.cancel')}</button>
    </li>
    <li>
     <button  class="btn btn-primary btn-large"> <span class="glyphicon glyphicon-transfer " ></span> ${messages.get('button.deploy')}</button>
    </li>

  </ul>

 <script>
    window.onload = function(){
      document.getElementById("js-open-vipr-diagram").click();
      $("#w-palette").hide();
      $("#js-properties-panel").hide();
      $("#w-save").hide();
    }
 </script>
 <script type="text/javascript">
     function cancel() {
        var url = #{jsAction  @catalog.CustomWorkflow.diagrams() /};
        window.location.href = url();   
     }
 </script>
 <script>
  $(document).ready(function(){
    $("#edit").click(function(){
        $("#w-palette").show();
        $("#js-properties-panel").show();
        $("#w-save").show();
    });
    
    $("#save").click(function(){
        $("#w-palette").hide();
        $("#js-properties-panel").hide();
        $("#w-save").hide();
    });
  });
</script>
  
  #{script 'workflow.js'/}